#!/bin/bash
baseAddress=0x40000000
vdmaBaseAddr=0x43000000
vdma1BaseAddr=0x43010000

declare -A regConf
declare -A vdmaConf
declare -A vdma1Conf
#
regConf[0x0100]=0x1

#initialize
## image pre-process
### gaussian blur
#regConf[0x0800]=0x0
#regConf[0x0804]=0x0
#regConf[0x0808]=0x0
#regConf[0x080c]=0x0
#regConf[0x0810]=0x3ff
#regConf[0x0814]=0x0
#regConf[0x0818]=0x0
#regConf[0x081c]=0x0
#regConf[0x0820]=0x0
#regConf[0x0824]=0x1
### binary
#regConf[0x0828]=0x100
### erosion&dilation
regConf[0x082c]=0x10010
regConf[0x0830]=0x10010
##object detect
###mask
regConf[0x0c08]=0xe
###area
regConf[0x0c0c]=5
regConf[0x0c10]=50
###side
#regConf[0x0c14]=0x00040000
#regConf[0x0c18]=0x00150013
#regConf[0x0c1c]=0x00160013
###shift
#regConf[0x0c24]=0x01f601f4
#regConf[0x0c24]=00x02e002c0
####regConf[0x0c24]=0x02e00010
###trig
#regConf[0x0c28]=0x00101019
#
vdmaConf[0x00]=0x1008b
vdmaConf[0x30]=0x1008b
## mm2s frame base addr
vdmaConf[0x5c]=0x20000000
vdmaConf[0x60]=0x21000000
vdmaConf[0x64]=0x22000000
vdmaConf[0x68]=0x23000000
vdmaConf[0x6c]=0x24000000
vdmaConf[0x70]=0x25000000
vdmaConf[0x74]=0x26000000
vdmaConf[0x78]=0x27000000
## s2mm frame base addr
vdmaConf[0xac]=0x20000000
vdmaConf[0xb0]=0x21000000
vdmaConf[0xb4]=0x22000000
vdmaConf[0xb8]=0x23000000
vdmaConf[0xbc]=0x24000000
vdmaConf[0xc0]=0x25000000
vdmaConf[0xc4]=0x26000000
vdmaConf[0xc8]=0x27000000
## mm2s image size
vdmaConf[0x54]=0x1680
vdmaConf[0x58]=0x1680
vdmaConf[0x50]=0x438
## s2mm image size
vdmaConf[0xa4]=0x1680
vdmaConf[0xa8]=0x7001680
vdmaConf[0xa0]=0x438

#################################
## vdma run
vdma1Conf[0x30]=0x10003
## s2mm frame base addr
vdma1Conf[0xac]=0x30000000
vdma1Conf[0xb0]=0x30400000
vdma1Conf[0xb4]=0x30800000
## s2mm image size
vdma1Conf[0xa4]=0xf00
vdma1Conf[0xa8]=0xf00
vdma1Conf[0xa0]=0x438



